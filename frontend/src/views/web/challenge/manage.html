<section class="ev-sm-container ev-view challenge-container" ng-init="challenge.startLoadingLogs();">
    <div class="ev-md-container ev-card-panel ev-z-depth-5 ev-challenge-view" ng-if="!challenge.isRemoteChallenge">
        <div class="row margin-bottom-cancel">
            <div class="col s12 m12 l12">
                <div class="w-300 fs-16"><strong>Note:</strong>By default, we allocate 0.5 vCPU and 1 GB memory
                to each challenge evaluation worker. In case your evaluation requires additional resources,
                please email us at <a href="mailto:admin@cloudcv.org" class="blue-text">admin@cloudcv.org</a>.
                </div>
            </div>
        </div>
    </div>
    
    <div class="ev-md-container ev-card-panel ev-z-depth-5 ev-challenge-view" ng-if="!challenge.isRemoteChallenge">
        
        <div class="row margin-bottom-cancel">
            <div class="col s12">
                <h5 class="w-300">Manage worker</h5>
            </div>
        </div>
        <div class="row">
            <div class="col xs12 s6">
                <span>
                    <form ng-submit="challenge.setWorkerResources()" class="multiple-columns">
                        <div class="scale-worker-column text-entry-columns">
                            <md-select ng-model="challenge.selectedWorkerResources" class="dropdown-menu rm-margin" >
                                <md-option ng-value="option" ng-repeat="option in challenge.workerResourceOptions">
                                    <span class="fs-16 w-300">
                                        {{ option[0] + " vCPU (" + option[0]/1024 + " CPU), " + option[1] + " MiB RAM" }}
                                    </span>
                                </md-option>
                            </md-select>
                        </div>
                        <div class="submit-column">
                            <div class="col s12 m6 l6 align-left scale-worker-button-div">
                                <button class="btn ev-btn-dark waves-effect waves-dark grad-btn grad-btn-dark fs-14 scale-worker-button" type="submit"
                                    value="Submit"><i class="fa fa-arrow-up"></i> Scale worker</button>
                            </div>
                        </div>
                    </form>
                </span>
            </div>
        </div>

        <div class="row worker-actions-row">
            <div class="col s12">
                <button class="btn ev-btn-dark waves-effect waves-dark grad-btn grad-btn-dark fs-14" ng-click="challenge.manageWorker('start');"><i class="fa fa-play"></i> Start worker</button>
                <button class="btn ev-btn-dark waves-effect waves-dark grad-btn grad-btn-dark fs-14" ng-click="challenge.manageWorker('stop');"><i class="fa fa-stop"></i> Stop worker</button>
                <button class="btn ev-btn-dark waves-effect waves-dark grad-btn grad-btn-dark fs-14" ng-click="challenge.manageWorker('restart');"><i class="fa fa-refresh"></i> Restart worker</button>
            </div>
        </div>
        <div class="row margin-bottom-cancel">
            <div class="col s12">
                <h5 class="w-300">Worker logs</h5>
            </div>
        </div>
        <div class="ev-logs-card">
            <div ng-repeat="log in challenge.workerLogs track by $index" class="ev-logs">{{log}}</div>
        </div>
    </div>
    <div class="ev-md-container ev-card-panel ev-z-depth-5 ev-challenge-view" ng-if="challenge.isRemoteChallenge">
        <div class="row margin-bottom-cancel">
            <div class="col s12">
                <h5 class="w-300">Remote Evaluation Meta</h5>
            </div>
        </div>
        <div class="row margin-bottom-cancel">
            <div class="col s12 m12 l12">
                <div class="w-300 fs-16">
                    <strong>Primary Key</strong>: {{challenge.challengeId}}<br>
                    <strong>Queue Name</strong>: {{challenge.queueName}}
                </div>
            </div>
        </div>
    </div>
</section>
