<!-- Challenge Phase Split creation form for step 5 -->

<section ng-if="createChallengeUsingUi.step5" class="ev-md-container text-center">
    <div class="row">
        <div class="col s12 m6 offset-m3">
            <div class="ev-md-container ev-card-body">
                <div class="pass-title">Create Challenge Phase Split</div>
                <form name="challengePhaseSplitCreateForm" ng-submit="createChallengeUsingUi.challengePhaseSplitCreate(challengePhaseSplitCreateForm.$valid)" novalidate>

                <div ng-repeat="challengePhaseSplit in createChallengeUsingUi.challengePhaseSplits">

                  <div class="row" ng-init="createChallengeUsingUi.getChallengePhaseSplitsIndex($index)">
                    <div class="rm-padding">
                      <md-select name="{{'challengePhase_'+$index}}" ng-model="challengePhaseSplit.challenge_phase" placeholder="Challenge Phase" class="rm-margin" required>
                        <md-option value="{{key.id}}" ng-repeat="key in createChallengeUsingUi.challengePhase">{{key.name}}
                        </md-option>
                      </md-select>
                    </div>
                  </div>

                  <div class="row">
                    <div class="rm-padding">
                      <md-select name="{{'datasetSplit_'+$index}}" ng-model="challengePhaseSplit.dataset_split" placeholder="Dataset Split" class="rm-margin" required>
                        <md-option value="{{key.id}}" ng-repeat="key in createChallengeUsingUi.datasetSplit">{{key.name}}
                        </md-option>
                      </md-select>
                    </div>
                  </div>

                  <div class="row">
                    <div class="rm-padding">
                      <md-select name="{{'leaderboard_'+$index}}" ng-model="challengePhaseSplit.leaderboard" placeholder="Leaderboard" class="rm-margin" required>
                        <md-option value="{{key.id}}" ng-repeat="key in createChallengeUsingUi.leaderboard">{{key.schema}}
                        </md-option>
                      </md-select>
                    </div>
                  </div>

                  <div class="row add-margin-bottom">
                    <div class="rm-padding">
                      <md-select name="{{'visibility_'+$index}}" ng-model="challengePhaseSplit.visibility" placeholder="Visibility" class="rm-margin" required>
                        <md-option value="{{key.id}}" ng-repeat="key in createChallengeUsingUi.visibility">{{key.name}}
                        </md-option>
                      </md-select>
                    </div>
                  </div>
              </div>
                <div class="row">
                    <div class="col s12 m2">
                       <button type="button" class="btn-floating btn-pagination waves-effect waves-dark" ng-click="createChallengeUsingUi.addNewChallengePhaseSplit()">
                            <i class="fa fa-plus"></i>
                        </button>
                    </div>
                    <div class="col s12 m2">
                        <button type="button" ng-if="createChallengeUsingUi.challengePhaseSplits.length > 1" class="btn-floating btn-pagination waves-effect waves-dark" ng-click="createChallengeUsingUi.removeNewChallengePhaseSplit($index)">
                            <i class="fa fa-minus"></i>
                        </button>
                    </div>
                    </div>
                    <div class="align-left reg-control">
                        <button class="btn ev-btn-dark waves-effect waves-dark grad-btn grad-btn-dark fs-14" type="submit" value="Submit">Submit</button>
                    </div>
                    <div ng-if="createChallengeUsingUi.isFormError" class="wrn-msg text-highlight align-right">
                      {{createChallengeUsingUi.formError}}
                    </div>
                </form>
              </div>
        </div>
    </div>
</section>
