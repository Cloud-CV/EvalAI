<!-- Challenge Phase Split creation form for step 5 -->

<section ng-if="createChallengeUsingUi.step5" class="ev-md-container text-center">
    <div class="row">
        <div class="col s12 m9 offset-m3">
          <div class="col s12 m9">
            <div class="ev-md-container ev-card-body">
                <div class="pass-title">Create Challenge Phase Split</div>
                <form name="challengePhaseSplitCreateForm" ng-submit="createChallengeUsingUi.challengePhaseSplitCreate(challengePhaseSplitCreateForm.$valid)" novalidate>

                <div ng-repeat="challengePhaseSplit in createChallengeUsingUi.challengePhaseSplits">

                  <div class="row" ng-init="createChallengeUsingUi.getChallengePhaseSplitsIndex($index)">
                    <div class="rm-padding">
                      <md-select name="{{'challengePhase_'+$index}}" ng-model="challengePhaseSplit.challenge_phase" placeholder="Challenge Phase" class="rm-margin" required>
                        <md-option value="{{key.id}}" ng-repeat="key in createChallengeUsingUi.challengePhase">{{key.name}}
                        </md-option>
                      </md-select>
                    </div>
                  </div>

                  <div class="row">
                    <div class="rm-padding">
                      <md-select name="{{'datasetSplit_'+$index}}" ng-model="challengePhaseSplit.dataset_split" placeholder="Dataset Split" class="rm-margin" required>
                        <md-option value="{{key.id}}" ng-repeat="key in createChallengeUsingUi.datasetSplit">{{key.name}}
                        </md-option>
                      </md-select>
                    </div>
                  </div>

                  <div class="row">
                    <div class="rm-padding">
                      <md-select name="{{'leaderboard_'+$index}}" ng-model="challengePhaseSplit.leaderboard" placeholder="Leaderboard" class="rm-margin" required>
                        <md-option value="{{key.id}}" ng-repeat="key in createChallengeUsingUi.leaderboard">{{key.schema}}
                        </md-option>
                      </md-select>
                    </div>
                  </div>

                  <div class="row add-margin-bottom">
                    <div class="rm-padding">
                      <md-select name="{{'visibility_'+$index}}" ng-model="challengePhaseSplit.visibility" placeholder="Visibility" class="rm-margin" required>
                        <md-option value="{{key.id}}" ng-repeat="key in createChallengeUsingUi.visibility">{{key.name}}
                        </md-option>
                      </md-select>
                    </div>
                  </div>
              </div>
               <button type="button" class="btn-floating btn-pagination waves-effect waves-dark add-margin-bottom" ng-click="createChallengeUsingUi.addNewChallengePhaseSplit()">
                    <i class="fa fa-plus"></i>
                </button>&nbsp;&nbsp;&nbsp;
                <button type="button" ng-if="createChallengeUsingUi.challengePhaseSplits.length > 1" class="btn-floating btn-pagination waves-effect waves-dark add-margin-bottom" ng-click="createChallengeUsingUi.removeNewChallengePhaseSplit($index)">
                    <i class="fa fa-minus"></i>
                </button>
                <div class="row">
                  <div class="col s12 m12">
                    <strong>Note:</strong>
                    <ol>
                      <li class="mb-5">Once you click submit the challenge will appear in under Hosted Challenges on your dashboard. If you want to edit any details then you can edit it from there.</li>
                      <li class="mb-5">The challenge will be active once the evalai administrator approves the challenge.</li>
                      <li class="mb-5">You can also change the visibility of the challenge by toggling the Published flag on your challenge dashboard under Hosted Challenges section.</li>
                    </ol>
                  </div>
                </div>
                    <div class="align-left reg-control">
                        <button class="btn ev-btn-dark waves-effect waves-dark grad-btn grad-btn-dark fs-14" type="submit" value="Submit">Submit</button>
                    </div>
                    <div ng-if="createChallengeUsingUi.isFormError" class="wrn-msg text-highlight align-right">
                      {{createChallengeUsingUi.formError}}
                    </div>
                </form>
              </div>
        </div>
      </div>
    </div>
</section>
